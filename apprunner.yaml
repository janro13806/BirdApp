version: 1.0

runtime: python311

build:
  # Phase 1: Upgrade pip, switch to pip3, avoid caching
  commands:
    - pip3 install --upgrade pip
    - pip3 install --no-cache-dir -r requirements.txt
    - pip3 install gunicorn


run:
  # Use the managed Python 3.11 runtime and start your app
  runtime-version: 3.11
  command: gunicorn application:app --bind 0.0.0.0:8080

network:
  port: 8080
